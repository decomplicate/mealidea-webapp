<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MealIDEA</title>
  <link rel="stylesheet" href="Style.css" />
</head>
<body>
  <header>
    <img class="logo" src="https://drive.google.com/thumbnail?id=1W0MqvAHrYRyCR8kI8eRNPCJ29FPCzERf&sz=w1000" alt="MealIDEA Logo">
    <h1>Welcome to MealIDEA</h1>
    <p>Smart daily meals planner at your fingertips.</p>
  </header>

  <main>
    <section class="intro">
      <p>Click below to view today's plan, check meals for other dates, or subscribe to our updates!</p>
    </section>

    <div class="buttons">
      <button onclick="showIframe('today')">üçΩÔ∏è Today's Meals</button>
      <button onclick="showDatePicker()">üìÖ Select a Date</button>
      <button onclick="toggleSubscribe()">üì¨ Subscribe</button>
    </div>

    <!-- Iframe container -->
    <section id="iframe-section">
      <iframe id="meal-frame" src="" style="display: none;"></iframe>
    </section>

    <!-- Date selector -->
    <div id="date-picker" style="display: none; text-align: center;">
      <input type="date" id="selected-date" />
      <button onclick="loadDateMeals()">Show Meals</button>
    </div>

    <!-- Subscription Form -->
    <div id="subscribe-form" style="display: none;">
      <iframe src="https://forms.gle/PqhH5FhmSLpBxvxR9" width="100%" height="500" frameborder="0">Loading...</iframe>
    </div>

    <!-- Example embedded video (optional) -->
    <section class="video-section">
      <h3>Watch: About MealIDEA</h3>
      <iframe width="100%" height="315" src="https://www.youtube.com/embed/VIDEO_ID_HERE" frameborder="0" allowfullscreen></iframe>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 MealIDEA | Built with Google Apps Script</p>
  </footer>

  <script>
    function showIframe(view) {
      const iframe = document.getElementById("meal-frame");
      const picker = document.getElementById("date-picker");
      const subscribe = document.getElementById("subscribe-form");

      picker.style.display = "none";
      subscribe.style.display = "none";
      iframe.style.display = "block";

      if (view === 'today') {
        iframe.src = "https://script.google.com/macros/s/AKfycbx-APEkUYNS3YxOIG1OcIX32nCBAnYd2mmVh0ADrV51me9G8iJnAqxg65ETsEsJhEAHCw/exec"; // your today web app
      }
    }

    function showDatePicker() {
      document.getElementById("meal-frame").style.display = "none";
      document.getElementById("subscribe-form").style.display = "none";
      document.getElementById("date-picker").style.display = "block";
    }

    function loadDateMeals() {
      const date = document.getElementById("selected-date").value;
      if (!date) {
        alert("Please select a date.");
        return;
      }
      const iframe = document.getElementById("meal-frame");
      iframe.src = `https://script.google.com/macros/s/AKfycbzA9Kp00Hr_7NghuLx4NoCL-sM81-Ar6Y_FMvhrqrsklKca1JZXF1BZjmXDN9-a9uVoVw/exec?date=${date}`;
      iframe.style.display = "block";
      document.getElementById("date-picker").style.display = "none";
    }

    function toggleSubscribe() {
      const form = document.getElementById("subscribe-form");
      const iframe = document.getElementById("meal-frame");
      const picker = document.getElementById("date-picker");
      iframe.style.display = "none";
      picker.style.display = "none";
      form.style.display = form.style.display === "none" ? "block" : "none";
    }
  </script>
</body>
</html>
